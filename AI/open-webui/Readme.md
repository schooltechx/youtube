# Ollama และ Open WebUI

[![Llamafile - Intro](https://img.youtube.com/vi/p5OM3nuf09M/0.jpg)](https://youtu.be/p5OM3nuf09M?si=3qD5CA8zzpB4nRBi "Open WebUI+Ollama ทำ AI ส่วนตัวสำหรับนักพัฒนา")

วีดีโอนี้จะใช้แสดงการใช้งาน Open WebUI กับ Ollama เท่านั้น ความจริงมีความสามารถที่น่าสนใจอีกมาก ถ้ามีโอกาสจะทำวีดีโอเพิ่มเติมครับ

## Ollama 
[Ollama](https://ollama.com)
เป็นโปรแกรมที่เรียกใช้งาน LLMs บนเครื่องของเราเอง สามารถใช้ได้ไม่จำกัด การใช้งานผ่านการพิมพ์ข้อความ หรือผ่าน [Web API](https://github.com/ollama/ollama/blob/main/docs/api.md) การติดตั้งและใช้งานบน Linux หรือ WSL
```sh
curl -fsSL https://ollama.com/install.sh | sh
ollama run llama3.2 
curl http://localhost:11434/api/generate -d '{
  "model": "llama3.2",
  "prompt":"หนึ่งบวกสองได้เท่าไหร่",
  "stream": false
}'
```
คำสั่งอื่นๆที่ควรรู้
```
ollama show llama3.2
ollama list
ollama ps
ollama stop llama3.1
ollama serve
```
## Open WebUI 

เป็นหน้าเวปสำหรับเรียกใช้ API ของเซิร์ฟเวอร์อื่นๆอีกทีหนึ่ง การใช้งานจะเหมือนใช้งานผ่าน ChatGPT รองรับ Web API ของ Ollama, ChatGPT,  stable diffusion ฯลฯ

### Resource
- [compose.nvidia.yaml](./compose.nvidia.yaml) ไว้ทดสอบ GPU Nvidia บน docker
- [compose.services.yaml](./compose.services.yaml) สำหรับเรียกใช้ ollama กับ open webui แยกกัน
- [compose.yaml](./compose.yaml) สำหรับเรียกใช้ ollama กับ open webui เป็นอิมเมจเดียวกัน
- [rest.http](./rest.http) ติดตั้งส่วนขยายของ VS Code ชื่อ REST Client เพื่อเรียกใช้ Web API เหมือนใช้ Postman

ในวีดีโอใช้  llama 3.2:3b และ codegemma:7b เขียนโค้ดจาก prompt นี้
```
สร้างเกมเดาตัวเลขด้วย Node.js สุ่มเลข 1-10 หนึ่งครั้ง ให้ผู้เล่นเดาเลขนั้นจนกว่าจะถูก ถ้าเดาผิดให้ใบ้ว่ามากกว่าหรือน้อยกว่าเลขที่สุ่ม ถ้าเดาถูกก็จบเกมส์
```
## Generate vs Chat
- Generate: ส่งหนึ่งข้อความเข้าไป แล้วได้คำตอบ
- Chat: ส่งหนึ่งข้อความเข้าไป และข้อความที่คุยก่อนหน้าแล้วได้คำตอบ.

ยกตัวอย่างด้านล่างนี้นี้ถ้าเป็น Generate จะตอบไม่ได้ แต่แบบ Chat จะตอบได้ดีกว่า
```
ถาม : เมืองหลวงของลาวคืออะไร
ตอบ : เวียงจันทร์
ถาม : ของไทยละ
ตอบ : ?
```

โมเดลที่ผมเลือกใช้ในวีดีโอเป็นขนาดเล็ก เพื่อไม่ให้กินทรัพยากรมาก GPU ที่ผมใช้มี VRAM 8GB ไม่เหมาะกับโมเดลขนาดใหญ่ แต่ก็เพียงพอสำหรับการศึกษา ดูแนวทางการพัฒนาเป็นแอปพลิเคชั่นได้ ไว้ลองผิดลองถูกเลือก Prompt ที่เหมาะสม หรือเขียนโค้ดเรียกใช้งาน โดยไม่ต้องเสียค่าใช้จ่ายด้านการเรียกใช้ API ผมจะพยายามหาแนวทางการเทรนโมเดลเพิ่มเติมเข้าไปด้วย ไม่รู้จะไหวหรือเปล่า

## Note

ที่คิดทำวีดีโอนี้เพราะผมอ่านบทความ
["ไทยอยู่อันดับ 43 ของโลก ดัชนีวัดความก้าวหน้าเอไอปี 2024"](https://edunewssiam.com/th/articles/299150-%E0%B9%84%E0%B8%97%E0%B8%A2%E0%B8%AD%E0%B8%A2%E0%B8%B9%E0%B9%88%E0%B8%AD%E0%B8%B1%E0%B8%99%E0%B8%94%E0%B8%B1%E0%B8%9A%E0%B9%80%E0%B8%97%E0%B9%88%E0%B8%B2%E0%B9%83%E0%B8%94%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B9%82%E0%B8%A5%E0%B8%81-%E0%B8%94%E0%B8%B1%E0%B8%8A%E0%B8%99%E0%B8%B5-%E0%B8%A7%E0%B8%B1%E0%B8%94%E0%B8%84%E0%B8%A7%E0%B8%B2%E0%B8%A1%E0%B8%81%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%AB%E0%B8%99%E0%B9%89%E0%B8%B2%E0%B9%80%E0%B8%AD%E0%B9%84%E0%B8%AD-%E0%B8%9B%E0%B8%B5-2024) 
อ่านแล้วรู้สึกไม่ปลื้มซักเท่าไหร่ ด้านบุคลากรที่เราอยู่อันดับ 66 ซึ่งต่ำมาก ทั้งที่ไทยมีโครงสร้างพื้นฐานที่ดี ประเทศไทยมีการใช้งาน AI สูงกว่าประเทศอื่นๆมาก แทนที่เราจะเป็นผู้ใช้อย่างเดียว เราควรจะมีการพัฒนาด้าน AI พร้อมกันไปด้วย ผมก็กำลังศึกษาด้านนี้อยู่ เนื้อหาส่วนใหญ่เป็นภาษาอังกฤษ อาจจะไม่ง่ายสำหรับหลายคน ผมเลยทำวีดีโอนี้ขึ้นมา หวังว่าจะทำให้เพื่อนๆเริ่มต้นได้ง่ายขึ้น ถ้าเห็นว่ามีประโยขน์ฝากแชร์ให้คนอื่นๆด้วยครับ พวกเราจะได้พัฒนาไปด้วยกัน
